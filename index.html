<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>L∆∞u Tr·ªØ Script</title>
    <meta http-equiv="Pragma" content="no-cache" />
    <link rel="stylesheet" type="text/css" href="assets/css/app.css"/>
</head>
<body>
    <div class="main-container">
        <!-- Header Section - Compact -->
        <div class="header">
            <h2>ÔøΩ L∆∞u Tr·ªØ Script</h2>
            <p class="subtitle">Qu·∫£n l√Ω ExtendScript</p>
        </div>

        <!-- Add Script Section - Compact -->
        <div class="section">
            <!-- Input Form - Horizontal Layout -->
            <div class="input-group">
                <label>T√™n:</label>
                <input type="text" id="scriptName" placeholder="Nh·∫≠p t√™n script...">
                <label>Danh m·ª•c:</label>
                <select id="scriptCategory">
                    <option value="general">T·ªïng qu√°t</option>
                    <option value="shapes">H√¨nh d·∫°ng</option>
                    <option value="colors">M√†u s·∫Øc</option>
                    <option value="text">VƒÉn b·∫£n</option>
                    <option value="effects">Hi·ªáu ·ª©ng</option>
                    <option value="automation">T·ª± ƒë·ªông h√≥a</option>
                    <option value="__create_new__">‚ûï T·∫°o danh m·ª•c m·ªõi...</option>
                </select>
            </div>
            
            <!-- Code Input - Compact -->
            <div class="input-group vertical">
                <label>Code ExtendScript:</label>
                <textarea id="scriptCode" placeholder="// Nh·∫≠p code ExtendScript t·∫°i ƒë√¢y...&#10;// V√≠ d·ª•: alert('Hello World!');"></textarea>
            </div>
            
            <!-- Action Buttons - Horizontal -->
            <div class="button-group">
                <button id="saveScript" class="btn btn-primary">üíæ L∆∞u Script</button>
                <button id="testScript" class="btn btn-secondary">‚ñ∂Ô∏è Test Ngay</button>
                <button id="importScript" class="btn btn-secondary">üì• Import</button>
            </div>
        </div>

        <!-- Scripts List Section - MAIN CONTENT AREA -->
        <div class="section script-list-priority">
            <h3>ÔøΩ Danh S√°ch Script ƒê√£ L∆∞u</h3>
            <div class="filter-group">
                <select id="categoryFilter">
                    <option value="all">T·∫•t c·∫£ danh m·ª•c</option>
                    <option value="general">T·ªïng qu√°t</option>
                    <option value="shapes">H√¨nh d·∫°ng</option>
                    <option value="colors">M√†u s·∫Øc</option>
                    <option value="text">VƒÉn b·∫£n</option>
                    <option value="effects">Hi·ªáu ·ª©ng</option>
                    <option value="automation">T·ª± ƒë·ªông h√≥a</option>
                </select>
                <button id="manageCategoriesBtn" class="btn btn-small btn-secondary" title="Qu·∫£n l√Ω danh m·ª•c">üè∑Ô∏è</button>
                <button id="refreshList" class="btn btn-small btn-secondary">üîÑ</button>
                <button id="exportAll" class="btn btn-small btn-secondary">üì§</button>
                <button id="clearAll" class="btn btn-small btn-warning">üóëÔ∏è</button>
            </div>
            <div id="scriptsList" class="scripts-list">
                <div class="empty-state">
                    <div class="icon">üìú</div>
                    <p>Ch∆∞a c√≥ script n√†o ƒë∆∞·ª£c l∆∞u.</p>
                    <p>H√£y th√™m script ƒë·∫ßu ti√™n c·ªßa b·∫°n! üëÜ</p>
                </div>
            </div>
        </div>

        <!-- Status -->
        <div class="status" id="status">
            S·∫µn s√†ng. Double-click v√†o script ƒë·ªÉ ch·∫°y ngay!
        </div>
    </div>

    <!-- Hidden File Input -->
    <input type="file" id="fileInput" accept=".jsx,.js" style="display: none;">

    <!-- Custom Category Modal -->
    <div id="categoryModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h4>T·∫°o Danh M·ª•c M·ªõi</h4>
            <div class="input-group vertical">
                <label>T√™n danh m·ª•c:</label>
                <input type="text" id="newCategoryName" placeholder="Nh·∫≠p t√™n danh m·ª•c..." maxlength="20">
            </div>
            <div class="input-group vertical">
                <label>Ch·ªçn m√†u:</label>
                <div class="color-picker-group">
                    <input type="color" id="categoryColorPicker" value="#4a90e2">
                    <div class="color-preview" id="colorPreview"></div>
                    <div class="preset-colors">
                        <div class="preset-color" data-color="#4a90e2" style="background: #4a90e2;" title="Xanh d∆∞∆°ng"></div>
                        <div class="preset-color" data-color="#50c878" style="background: #50c878;" title="Xanh l√°"></div>
                        <div class="preset-color" data-color="#ff6b6b" style="background: #ff6b6b;" title="ƒê·ªè"></div>
                        <div class="preset-color" data-color="#ffa500" style="background: #ffa500;" title="Cam"></div>
                        <div class="preset-color" data-color="#9b59b6" style="background: #9b59b6;" title="T√≠m"></div>
                        <div class="preset-color" data-color="#f39c12" style="background: #f39c12;" title="V√†ng"></div>
                        <div class="preset-color" data-color="#e91e63" style="background: #e91e63;" title="H·ªìng"></div>
                        <div class="preset-color" data-color="#1abc9c" style="background: #1abc9c;" title="Xanh ng·ªçc"></div>
                        <div class="preset-color" data-color="#607d8b" style="background: #607d8b;" title="X√°m xanh"></div>
                    </div>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="confirmCategory" class="btn btn-primary">‚úÖ T·∫°o</button>
                <button id="cancelCategory" class="btn btn-secondary">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Manage Categories Modal -->
    <div id="manageCategoriesModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h4>Qu·∫£n L√Ω Danh M·ª•c</h4>
            <div class="category-section">
                <h5>Danh m·ª•c m·∫∑c ƒë·ªãnh</h5>
                <div class="default-categories">
                    <div class="category-item readonly">
                        <span class="category-color" style="background: #4a90e2;"></span>
                        <span class="category-name">T·ªïng qu√°t</span>
                        <span class="category-type">M·∫∑c ƒë·ªãnh</span>
                    </div>
                    <div class="category-item readonly">
                        <span class="category-color" style="background: #50c878;"></span>
                        <span class="category-name">H√¨nh d·∫°ng</span>
                        <span class="category-type">M·∫∑c ƒë·ªãnh</span>
                    </div>
                    <div class="category-item readonly">
                        <span class="category-color" style="background: #ff6b6b;"></span>
                        <span class="category-name">M√†u s·∫Øc</span>
                        <span class="category-type">M·∫∑c ƒë·ªãnh</span>
                    </div>
                    <div class="category-item readonly">
                        <span class="category-color" style="background: #ffa500;"></span>
                        <span class="category-name">VƒÉn b·∫£n</span>
                        <span class="category-type">M·∫∑c ƒë·ªãnh</span>
                    </div>
                    <div class="category-item readonly">
                        <span class="category-color" style="background: #9b59b6;"></span>
                        <span class="category-name">Hi·ªáu ·ª©ng</span>
                        <span class="category-type">M·∫∑c ƒë·ªãnh</span>
                    </div>
                    <div class="category-item readonly">
                        <span class="category-color" style="background: #1abc9c;"></span>
                        <span class="category-name">T·ª± ƒë·ªông h√≥a</span>
                        <span class="category-type">M·∫∑c ƒë·ªãnh</span>
                    </div>
                </div>
                
                <h5>Danh m·ª•c t√πy ch·ªânh</h5>
                <div id="customCategoriesList" class="custom-categories">
                    <!-- Custom categories will be populated here -->
                </div>
                
                <button id="addNewCategoryFromManage" class="btn btn-primary add-category-btn">
                    ‚ûï T·∫°o danh m·ª•c m·ªõi
                </button>
            </div>
            <div class="modal-buttons">
                <button id="closeManageCategories" class="btn btn-secondary">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <!-- Edit Color Modal -->
    <div id="editColorModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h4>ƒê·ªïi M√†u Danh M·ª•c</h4>
            <div class="edit-color-info">
                <span class="current-category-name" id="editingCategoryName"></span>
            </div>
            <div class="input-group vertical">
                <label>Ch·ªçn m√†u m·ªõi:</label>
                <div class="color-picker-group">
                    <input type="color" id="editCategoryColorPicker" value="#4a90e2">
                    <div class="color-preview" id="editColorPreview"></div>
                    <div class="preset-colors">
                        <div class="preset-color edit-preset" data-color="#4a90e2" style="background: #4a90e2;" title="Xanh d∆∞∆°ng"></div>
                        <div class="preset-color edit-preset" data-color="#50c878" style="background: #50c878;" title="Xanh l√°"></div>
                        <div class="preset-color edit-preset" data-color="#ff6b6b" style="background: #ff6b6b;" title="ƒê·ªè"></div>
                        <div class="preset-color edit-preset" data-color="#ffa500" style="background: #ffa500;" title="Cam"></div>
                        <div class="preset-color edit-preset" data-color="#9b59b6" style="background: #9b59b6;" title="T√≠m"></div>
                        <div class="preset-color edit-preset" data-color="#f39c12" style="background: #f39c12;" title="V√†ng"></div>
                        <div class="preset-color edit-preset" data-color="#e91e63" style="background: #e91e63;" title="H·ªìng"></div>
                        <div class="preset-color edit-preset" data-color="#1abc9c" style="background: #1abc9c;" title="Xanh ng·ªçc"></div>
                        <div class="preset-color edit-preset" data-color="#607d8b" style="background: #607d8b;" title="X√°m xanh"></div>
                    </div>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="confirmEditColor" class="btn btn-primary">‚úÖ C·∫≠p nh·∫≠t</button>
                <button id="cancelEditColor" class="btn btn-secondary">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteConfirmModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h4>X√°c nh·∫≠n x√≥a</h4>
            <p>B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a danh m·ª•c "<span id="deleteCategoryName"></span>"?</p>
            <p class="warning-text">‚ö†Ô∏è T·∫•t c·∫£ script trong danh m·ª•c n√†y s·∫Ω ƒë∆∞·ª£c chuy·ªÉn v·ªÅ "T·ªïng qu√°t"</p>
            <div class="modal-buttons">
                <button id="confirmDelete" class="btn btn-danger">üóëÔ∏è X√≥a</button>
                <button id="cancelDelete" class="btn btn-secondary">‚ùå H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/CSInterface.js"></script>
    <script src="assets/js/app.js"></script>
</body>
</html>
